<!-- START OF FILE index.html -->
<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nama Generator Indonesia by Mr. Patrik</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@600&family=Kaushan+Script&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#007BFF">

    <style>
        :root { --primary-color: #007BFF; --secondary-color: #6c757d; --background-color: #f0f2f5; --card-background: #ffffff; --text-color: #333; --border-radius: 16px; --box-shadow: 0 6px 25px rgba(0, 0, 0, 0.09); }
        
        #preloader { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: var(--background-color); z-index: 9999; display: flex; flex-direction: column; justify-content: center; align-items: center; transition: opacity 0.75s ease, visibility 0.75s ease; }
        #preloader.hidden { opacity: 0; visibility: hidden; }
        .css-loader { width: 80px; height: 80px; border: 8px solid #e0e0e0; border-top-color: var(--primary-color); border-radius: 50%; animation: spin 1s linear infinite; margin-bottom: 25px; }
        #preloader h2 { font-family: 'Poppins', sans-serif; font-size: 1.8rem; color: var(--primary-color); margin: 0; }
        #loading-text { font-size: 1.2rem; margin-top: 15px; color: var(--secondary-color); }
        @keyframes spin { 100% { transform: rotate(360deg); } }

        body { font-family: 'Poppins', sans-serif; background-color: var(--background-color); color: var(--text-color); display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; padding: 20px; box-sizing: border-box; }
        .top-left-credit { position: absolute; top: 20px; left: 20px; font-size: 0.9rem; color: var(--secondary-color); background-color: rgba(255, 255, 255, 0.8); padding: 5px 12px; border-radius: 8px; z-index: 10; backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px); }
        .creator-name { font-family: 'Josefin Sans', sans-serif; font-weight: 600; color: var(--primary-color); }
        .container { background-color: var(--card-background); padding: 40px; border-radius: var(--border-radius); box-shadow: var(--box-shadow); text-align: center; max-width: 550px; width: 100%; }
        .logo-img { width: 80px; height: 80px; border-radius: 50%; object-fit: cover; margin-bottom: 15px; border: 3px solid var(--primary-color); }
        h1 { color: var(--text-color); margin-top: 0; margin-bottom: 0; font-size: 2.2rem; font-weight: 700; }
        .credit-line { color: var(--secondary-color); margin-top: 5px; margin-bottom: 25px; font-size: 1rem; }
        .author-name { font-family: 'Kaushan Script', cursive; font-size: 1.8rem; color: var(--primary-color); }
        .gender-selector { margin-bottom: 15px; border: 1px solid #ddd; padding: 15px; border-radius: 8px; }
        .gender-selector legend { font-weight: 600; padding: 0 10px; color: var(--primary-color); }
        .gender-options { display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; }
        .gender-options label { cursor: pointer; font-size: 0.95rem; }
        .gender-options input[type="radio"] { margin-right: 5px; }

        #suku-selector { margin-bottom: 30px; border: none; padding: 0; }
        #suku-selector legend { display: none; }
        
        .suku-options { display: flex; justify-content: center; gap: 12px; flex-wrap: wrap; }
        .suku-options label { cursor: pointer; font-size: 0.8rem; color: var(--secondary-color); }
        .suku-options input[type="checkbox"] { margin-right: 3px; transform: scale(0.9); }

        .hasil-nama-wrapper { position: relative; margin-bottom: 30px; }
        #nama-hasil { font-size: 1.75rem; font-weight: 600; background-color: #e9ecef; padding: 20px; border-radius: 8px; min-height: 30px; display: flex; justify-content: center; align-items: center; word-break: break-all; transition: background-color 0.3s; }
        .placeholder { color: #999; font-weight: 400; font-style: italic; font-size: 1.5rem; }
        .buttons { display: flex; gap: 15px; justify-content: center; }
        button { font-family: 'Poppins', sans-serif; padding: 12px 25px; font-size: 1rem; font-weight: 600; border: none; border-radius: 8px; cursor: pointer; transition: all 0.3s ease; }
        #generate-btn { background-color: var(--primary-color); color: white; }
        #generate-btn:hover { background-color: #0056b3; transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0, 123, 255, 0.2); }
        #copy-btn { background-color: #28a745; color: white; }
        #copy-btn:hover { background-color: #1e7e34; transform: translateY(-2px); box-shadow: 0 4px 8px rgba(40, 167, 69, 0.2); }
        #copy-btn:disabled { background-color: var(--secondary-color); cursor: not-allowed; transform: none; box-shadow: none; }
        
        .notif { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); color: white; padding: 10px 20px; border-radius: 5px; z-index: 1000; opacity: 0; transition: opacity 0.5s, transform 0.5s; visibility: hidden; }
        .notif.show { opacity: 1; transform: translate(-50%, -10px); visibility: visible; }
        .notif.sukses { background-color: #28a745; }
        .notif.error { background-color: #dc3545; }

        .footer-links { margin-top: 30px; font-size: 0.95rem; color: var(--secondary-color); line-height: 1.6; }
        .footer-links p { margin: 4px 0; }
        .footer-links a { color: var(--primary-color); text-decoration: none; font-weight: 600; }
        .footer-links a:hover { text-decoration: underline; }
        .footer-title { color: var(--text-color); font-weight: 600; margin-bottom: 10px; }
    </style>
</head>
<body>
    <div id="preloader">
        <div class="css-loader"></div>
        <h2>Name Generator</h2>
        <p id="loading-text">0%</p>
    </div>
    
    <div class="top-left-credit">Created by : <span class="creator-name">Hikmah</span></div>
    <div class="container">
        <img src="https://i.imgur.com/biPfr2r.png" alt="Logo Mr. Patrik" class="logo-img">
        <h1>Nama Generator Indonesia</h1>
        <p class="credit-line">by <span class="author-name">Mr. Patrik</span></p>
        
        <fieldset class="gender-selector">
            <legend>Pilih Gender</legend>
            <div class="gender-options">
                <label><input type="radio" id="gender-laki" name="gender" value="laki" checked> Laki-laki</label>
                <label><input type="radio" id="gender-perempuan" name="gender" value="perempuan"> Perempuan</label>
            </div>
        </fieldset>
        
        <fieldset id="suku-selector">
            <legend></legend>
            <div class="suku-options">
                <label><input type="checkbox" name="suku" value="jawa"> Jawa</label>
                <label><input type="checkbox" name="suku" value="sunda"> Sunda</label>
                <label><input type="checkbox" name="suku" value="batak"> Batak</label>
                <label><input type="checkbox" name="suku" value="maluku"> Maluku</label>
                <label><input type="checkbox" name="suku" value="genz"> Gen-Z</label>
            </div>
        </fieldset>

        <div class="hasil-nama-wrapper"><div id="nama-hasil" class="placeholder">...</div></div>
        <div class="buttons">
            <button id="generate-btn">Buat Nama Baru</button>
            <button id="copy-btn" disabled>Salin Nama</button>
        </div>
        <div class="footer-links">
            <p class="footer-title">Saran versi fb anti suspend :</p>
            <p>Facebook lite versi old 382 - <a href="https://www.mediafire.com/file/nply2o0sfuzyo5w/Facebook_Lite_382.0.0.11.115_apkcombo.com.apk/file" target="_blank">Download</a></p>
            <p>Facebook lite versi old 379 - <a href="https://www.mediafire.com/file/at7ac79o0crpir9/facebook-lite-379-0-0-8-118.apk/file" target="_blank">Download</a></p>
            <p>Facebook lite versi old 370 - <a href="https://www.mediafire.com/file/kk92xwi3vt4fr5a/facebook-lite-370.0.0.16.116.apk/file" target="_blank">Download</a></p>
            <p>Clone App Pro v3.6.2 Premium - <a href="https://www.mediafire.com/file/zo8sbtx4qf98pqu/Clone+App+Pro+v3.6.2+Premium.apk/file" target="_blank">Download</a></p>
        </div>
    </div>
    <div id="notifikasi" class="notif"></div>
    <script src="database-nama.js"></script>
    <script>
        window.addEventListener('load', () => {
            const preloader = document.getElementById('preloader');
            const loadingText = document.getElementById('loading-text');
            let i = 0;
            const interval = setInterval(() => {
                loadingText.textContent = i + '%';
                i++;
                if (i > 100) {
                    clearInterval(interval);
                    preloader.classList.add('hidden');
                }
            }, 20);
        });

        const namaHasilEl = document.getElementById('nama-hasil');
        const generateBtn = document.getElementById('generate-btn');
        const copyBtn = document.getElementById('copy-btn');
        const notifikasiEl = document.getElementById('notifikasi');
        
        const namePools = {};

        function initializePools() {
            namePools.indonesia = {};
            for (const suku in databaseNama.indonesia) {
                namePools.indonesia[suku] = {
                    laki: [...databaseNama.indonesia[suku].laki],
                    perempuan: [...databaseNama.indonesia[suku].perempuan]
                };
            }
        }
        
        function resetPool(gender, suku) {
            console.log(`Pool untuk ${suku} - ${gender} habis. Mengisi ulang...`);
            namePools.indonesia[suku][gender] = [...databaseNama.indonesia[suku][gender]];
        }
        
        function tampilkanNotifikasi(pesan, tipe = 'sukses') {
            notifikasiEl.textContent = pesan;
            notifikasiEl.className = 'notif';
            notifikasiEl.classList.add(tipe, 'show');
            setTimeout(() => {
                notifikasiEl.classList.remove('show');
            }, 3000);
        }
        
        function generateNama() {
            const checkedSuku = document.querySelectorAll('input[name="suku"]:checked');
            const checkedCount = checkedSuku.length;

            if (checkedCount === 0) {
                tampilkanNotifikasi('Silakan pilih satu kategori terlebih dahulu.', 'error');
                return;
            }

            if (checkedCount > 1) {
                tampilkanNotifikasi('Hanya boleh memilih satu kategori.', 'error');
                return;
            }

            const gender = document.querySelector('input[name="gender"]:checked').value;
            const selectedSuku = checkedSuku[0].value;
            
            let namaLengkap = null;
            const pool = namePools.indonesia[selectedSuku]?.[gender];

            if (pool && pool.length === 0) {
                resetPool(gender, selectedSuku);
            }
            
            const currentPool = namePools.indonesia[selectedSuku][gender];

            if (currentPool && currentPool.length > 0) {
                 const randomIndex = Math.floor(Math.random() * currentPool.length);
                 namaLengkap = currentPool[randomIndex];
            }

            if (namaLengkap) {
                namaHasilEl.textContent = namaLengkap;
                namaHasilEl.classList.remove('placeholder');
                copyBtn.disabled = false;
            } else {
                namaHasilEl.textContent = "Nama tidak ditemukan.";
                namaHasilEl.classList.add('placeholder');
                copyBtn.disabled = true;
            }
        }

        initializePools();

        function copyNama() {
            if (copyBtn.disabled) return;
            navigator.clipboard.writeText(namaHasilEl.textContent).then(() => {
                tampilkanNotifikasi('Tersalin ke clipboard!', 'sukses');
            }).catch(err => {
                console.error('Gagal menyalin: ', err);
                tampilkanNotifikasi('Oops, gagal menyalin.', 'error');
            });
        }
        
        generateBtn.addEventListener('click', generateNama);
        copyBtn.addEventListener('click', copyNama);
        
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./service-worker.js')
                    .then(reg => console.log('Service worker terdaftar.'))
                    .catch(err => console.log('Service worker gagal terdaftar:', err));
            });
        }
    </script>
</body>
</html>
<!-- END OF FILE index.html -->
